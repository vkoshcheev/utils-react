import{useEffect as e,useRef as n,useState as t}from"react";const r=e=>new Promise(n=>setTimeout(n,e||0));function o(e,n){const t=e.lastIndexOf(".");return-1===t?e+n:e.slice(0,t)+n+e.slice(t)}function i(e,n=!0){const t=n?" ":"";return e>1073741824?`${parseFloat((e/1073741824).toFixed(2))}${t}GB`:e>1048576?`${parseFloat((e/1048576).toFixed(2))}${t}MB`:e>1024?`${parseFloat((e/1024).toFixed(1))}${t}KB`:`${e}${t}B`}function a(e){const n=new Date("number"==typeof e?e:parseInt(e)),t="Europe/Moscow",r={timeZone:t,hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"},o={timeZone:t,day:"2-digit",month:"2-digit",year:"numeric"};return`${n.toLocaleString("ru-RU",r)} ${n.toLocaleString("ru-RU",o)} ${t}`}function c(e){return e?e.name.split(".").pop():""}function s(e){return/^[a-zA-Z0-9]+(?:\.[a-zA-Z0-9]+)*@(?:[a-zA-Z0-9]+\.)+[a-zA-Z0-9]+(?:\.[a-zA-Z0-9]+)*$/.test(e)}function u(e){return 11===e.replaceAll(/\D/g,"").length}const d=" ",l="\r\n";function f(e){return e.replaceAll(" "," ")}function m({filename:e,maxLength:n=30,keepStartLength:t=10,keepEndLength:r=10,replaceExcessiveTextWith:o="[...]"}){if(!e)return"";const i=e.split("."),a=i.pop(),c=i.join("."),s=c.length;return s<=n?e:c.slice(0,t)+o+c.slice(s-r)+"."+a}function p({closeModal:t}){const o=n(null);return e(()=>{const e=e=>{o.current&&!o.current.contains(e.target)&&r().then(()=>t())};return document.addEventListener("mouseup",e),()=>{document.removeEventListener("mouseup",e)}},[t]),{modalRef:o}}function v(t,r){const o=n({isComponentMounted:!1}),i=n(r);return e(()=>{o.current.isComponentMounted?(t(i.current,r),i.current=r):o.current.isComponentMounted=!0},r),e(()=>()=>{o.current.isComponentMounted=!1},[]),o.current.isComponentMounted}const g=n=>{const t=window.innerWidth-document.body.offsetWidth;e(()=>{const e="unset";document.body.style.overflowY=n?"hidden":e,document.documentElement.style.overflowY=n?"hidden":e;const r=document.getElementsByClassName("appContainer")[0];return r&&(r.style.paddingRight=n?2*t+"px":"0px",r.style.marginRight=n?`-${t}px`:"0px"),()=>{document.body.style.overflowY=e,document.documentElement.style.overflowY=e,r&&(r.style.paddingRight="0px",r.style.marginRight="0px")}},[n])};function h(){const[n,r]=t(!1);return e(()=>{r(!0)},[]),n}function y(e,n){const[r,o]=t(()=>{if("undefined"!=typeof window){const t=localStorage.getItem(e);return null===t?n:JSON.parse(t)}return n});return[r,n=>{"undefined"!=typeof window&&o(t=>{const r="function"==typeof n?n(t):n;return localStorage.setItem(e,JSON.stringify(r)),r})}]}function w(){const[e,n]=t(!1);return{modalIsOpen:e,openModal:()=>n(!0),closeModal:()=>n(!1),toggleModal:()=>n(!e)}}var E,T,S,b,L=-1,C=function(e){addEventListener("pageshow",function(n){n.persisted&&(L=n.timeStamp,e(n))},!0)},$=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},x=function(){var e=$();return e&&e.activationStart||0},A=function(e,n){var t=$(),r="navigate";return L>=0?r="back-forward-cache":t&&(document.prerendering||x()>0?r="prerender":document.wasDiscarded?r="restore":t.type&&(r=t.type.replace(/_/g,"-"))),{name:e,value:void 0===n?-1:n,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},F=function(e,n,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver(function(e){Promise.resolve().then(function(){n(e.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},t||{})),r}}catch(e){}},M=function(e,n,t,r){var o,i;return function(a){n.value>=0&&(a||r)&&((i=n.value-(o||0))||void 0===o)&&(o=n.value,n.delta=i,n.rating=function(e,n){return e>n[1]?"poor":e>n[0]?"needs-improvement":"good"}(n.value,t),e(n))}},R=function(e){requestAnimationFrame(function(){return requestAnimationFrame(function(){return e()})})},I=function(e){document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&e()})},B=function(e){var n=!1;return function(){n||(e(),n=!0)}},P=-1,k=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},D=function(e){"hidden"===document.visibilityState&&P>-1&&(P="visibilitychange"===e.type?e.timeStamp:0,N())},O=function(){addEventListener("visibilitychange",D,!0),addEventListener("prerenderingchange",D,!0)},N=function(){removeEventListener("visibilitychange",D,!0),removeEventListener("prerenderingchange",D,!0)},Z=function(){return P<0&&(P=k(),O(),C(function(){setTimeout(function(){P=k(),O()},0)})),{get firstHiddenTime(){return P}}},z=function(e){document.prerendering?addEventListener("prerenderingchange",function(){return e()},!0):e()},Y=[1800,3e3],H=function(e,n){n=n||{},z(function(){var t,r=Z(),o=A("FCP"),i=F("paint",function(e){e.forEach(function(e){"first-contentful-paint"===e.name&&(i.disconnect(),e.startTime<r.firstHiddenTime&&(o.value=Math.max(e.startTime-x(),0),o.entries.push(e),t(!0)))})});i&&(t=M(e,o,Y,n.reportAllChanges),C(function(r){o=A("FCP"),t=M(e,o,Y,n.reportAllChanges),R(function(){o.value=performance.now()-r.timeStamp,t(!0)})}))})},J=[.1,.25],W=(new Map,function(e){var n=self.requestIdleCallback||self.setTimeout,t=-1;return e=B(e),"hidden"===document.visibilityState?e():(t=n(e),I(e)),t}),q=[2500,4e3],U={},j=[800,1800],V=function e(n){document.prerendering?z(function(){return e(n)}):"complete"!==document.readyState?addEventListener("load",function(){return e(n)},!0):setTimeout(n,0)},G=function(e,n){n=n||{};var t=A("TTFB"),r=M(e,t,j,n.reportAllChanges);V(function(){var o=$();o&&(t.value=Math.max(o.responseStart-x(),0),t.entries=[o],r(!0),C(function(){t=A("TTFB",0),(r=M(e,t,j,n.reportAllChanges))(!0)}))})},K={passive:!0,capture:!0},_=new Date,Q=function(e,n){E||(E=n,T=e,S=new Date,ne(removeEventListener),X())},X=function(){if(T>=0&&T<S-_){var e={entryType:"first-input",name:E.type,target:E.target,cancelable:E.cancelable,startTime:E.timeStamp,processingStart:E.timeStamp+T};b.forEach(function(n){n(e)}),b=[]}},ee=function(e){if(e.cancelable){var n=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,n){var t=function(){Q(e,n),o()},r=function(){o()},o=function(){removeEventListener("pointerup",t,K),removeEventListener("pointercancel",r,K)};addEventListener("pointerup",t,K),addEventListener("pointercancel",r,K)}(n,e):Q(n,e)}},ne=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach(function(n){return e(n,ee,K)})},te=[100,300];function re(){const[n,r]=t({});return e(()=>{const e=e=>{r(n=>({...n,[e.name]:e.value}))};G(e),H(e),function(e,n){n=n||{},z(function(){var t,r=Z(),o=A("LCP"),i=function(e){n.reportAllChanges||(e=e.slice(-1)),e.forEach(function(e){e.startTime<r.firstHiddenTime&&(o.value=Math.max(e.startTime-x(),0),o.entries=[e],t())})},a=F("largest-contentful-paint",i);if(a){t=M(e,o,q,n.reportAllChanges);var c=B(function(){U[o.id]||(i(a.takeRecords()),a.disconnect(),U[o.id]=!0,t(!0))});["keydown","click"].forEach(function(e){addEventListener(e,function(){return W(c)},{once:!0,capture:!0})}),I(c),C(function(r){o=A("LCP"),t=M(e,o,q,n.reportAllChanges),R(function(){o.value=performance.now()-r.timeStamp,U[o.id]=!0,t(!0)})})}})}(e),function(e,n){n=n||{},H(B(function(){var t,r=A("CLS",0),o=0,i=[],a=function(e){e.forEach(function(e){if(!e.hadRecentInput){var n=i[0],t=i[i.length-1];o&&e.startTime-t.startTime<1e3&&e.startTime-n.startTime<5e3?(o+=e.value,i.push(e)):(o=e.value,i=[e])}}),o>r.value&&(r.value=o,r.entries=i,t())},c=F("layout-shift",a);c&&(t=M(e,r,J,n.reportAllChanges),I(function(){a(c.takeRecords()),t(!0)}),C(function(){o=0,r=A("CLS",0),t=M(e,r,J,n.reportAllChanges),R(function(){return t()})}),setTimeout(t,0))}))}(e),function(e,n){n=n||{},z(function(){var t,r=Z(),o=A("FID"),i=function(e){e.startTime<r.firstHiddenTime&&(o.value=e.processingStart-e.startTime,o.entries.push(e),t(!0))},a=function(e){e.forEach(i)},c=F("first-input",a);t=M(e,o,te,n.reportAllChanges),c&&(I(B(function(){a(c.takeRecords()),c.disconnect()})),C(function(){var r;o=A("FID"),t=M(e,o,te,n.reportAllChanges),b=[],T=-1,E=null,ne(addEventListener),r=i,b.push(r),X()}))})}(e)},[]),n}const oe=(e,n=0)=>{r().then(()=>{const t=e.current?.getBoundingClientRect().top,r=t+window.scrollY+n;window.scrollTo({top:r,behavior:"smooth"})})},ie=(e=!0,n=0)=>{r(n).then(()=>window.scrollTo({top:0,behavior:e?"smooth":void 0}))},ae=(e,n=1)=>{const[t,r,o]=e.match(/\w\w/g)?.map(e=>parseInt(e,16));return`rgba(${t},${r},${o},${n})`},ce=(e,n)=>`${e} ${e}${n}`,se=(e,n,t="--selected")=>n?ce(e,t):e,ue=e=>`url("${e}")`,de=async e=>{const n=e.map(e=>new Promise((n,t)=>{const r=new Image;r.src=e,r.onload=()=>{n()},r.onerror=e=>{const n=JSON.stringify(e);t(n)}}));try{await Promise.all(n)}catch(e){console.log(`cacheImages - Error loading images: ${JSON.stringify(e)}`)}},le=({smooth:n=!0})=>{e(()=>{ie(n)},[])};export{ce as addModifierToClass,se as addModifierToClassWhenConditionIsTrue,o as addStringToFilenameBeforeExtension,de as cacheImages,i as formatFileSizeText,a as formatUnixTimeToDateMoscowTime,c as getFileExtension,ue as getImageUrlForCss,s as isEmailValid,u as isPhoneNumberValid,d as nbsp,l as newLine,f as replaceSpacesWithNbsp,oe as scrollToBlockRef,ie as scrollToTop,m as shortenFileName,r as sleep,p as useCloseModalOnClickOutside,v as useComponentDidUpdate,g as useDisableScroll,h as useIsClient,y as useLocalStorage,w as useModalStateHooks,le as useScrollToTop,re as useWebVitals,ae as withOpacity};